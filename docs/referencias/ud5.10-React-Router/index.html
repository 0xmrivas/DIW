
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../ud5.9-useEffect-fetch/">
      
      
        <link rel="next" href="../ud5.10.2-React.lazy/">
      
      
      <link rel="icon" href="../assets/logo-blanco.svg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.10">
    
    
      
        <title>React Router DOM - DWEC - Apuntes y referencias</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="grey" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#react-router-dom" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="DWEC - Apuntes y referencias" class="md-header__button md-logo" aria-label="DWEC - Apuntes y referencias" data-md-component="logo">
      
  <img src="../assets/logo-blanco.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DWEC - Apuntes y referencias
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              React Router DOM
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="grey" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Pestañas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Inicio

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../ud1/" class="md-tabs__link">
        
  
    
  
  UD1

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../ud2/" class="md-tabs__link">
        
  
    
  
  UD2

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../ud3/" class="md-tabs__link">
        
  
    
  
  UD3

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../ud4/" class="md-tabs__link">
        
  
    
  
  UD4

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../ud5/" class="md-tabs__link">
          
  
  UD5

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../ud6/" class="md-tabs__link">
        
  
    
  
  UD6

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../ud7/" class="md-tabs__link">
        
  
    
  
  UD7

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../ud8/" class="md-tabs__link">
          
  
  UD8

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="DWEC - Apuntes y referencias" class="md-nav__button md-logo" aria-label="DWEC - Apuntes y referencias" data-md-component="logo">
      
  <img src="../assets/logo-blanco.svg" alt="logo">

    </a>
    DWEC - Apuntes y referencias
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inicio
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD1
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD2
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD3
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD4
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    UD5
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            UD5
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD5 - React.js
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.1-Empezando-con-React/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Empezando con React
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.2-Paso-a-paso/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paso a paso con React
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.3-Tres-en-raya/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Juego tres en raya
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.4-Mi-Primer-Proyecto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mi primer proyecto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.5-Fundamentos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fundamentos de React
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.6-Formularios/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Formularios
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.7-Todo-App/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Todo App
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.8-Drag-and-Drop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Drag & Drop
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.9-useEffect-fetch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UseEffect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    React Router DOM
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    React Router DOM
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#transiciones-en-una-spa-single-page-application" class="md-nav__link">
    <span class="md-ellipsis">
      Transiciones en una SPA (Single Page Application)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejemplo-de-uso" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo de uso
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejemplo de uso">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instalacion-de-react-router-dom" class="md-nav__link">
    <span class="md-ellipsis">
      Instalación de react-router-dom
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crear-enrutador" class="md-nav__link">
    <span class="md-ellipsis">
      Crear enrutador
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#useroutererror" class="md-nav__link">
    <span class="md-ellipsis">
      useRouterError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rutas-anidadas" class="md-nav__link">
    <span class="md-ellipsis">
      Rutas anidadas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navbar" class="md-nav__link">
    <span class="md-ellipsis">
      Navbar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navlink" class="md-nav__link">
    <span class="md-ellipsis">
      NavLink
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loader-y-useloaderdata" class="md-nav__link">
    <span class="md-ellipsis">
      Loader y useLoaderData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rutas-con-parametros" class="md-nav__link">
    <span class="md-ellipsis">
      Rutas con parámetros
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usenavigation" class="md-nav__link">
    <span class="md-ellipsis">
      useNavigation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-data" class="md-nav__link">
    <span class="md-ellipsis">
      Error data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-are-good-alternatives-to-data-fetching-in-effects" class="md-nav__link">
    <span class="md-ellipsis">
      What are good alternatives to data fetching in Effects?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recursos" class="md-nav__link">
    <span class="md-ellipsis">
      Recursos
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.10.2-React.lazy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lazy Load
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.11-Context-API/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Context API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.12-React%2BFirebase/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React con Firebase
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.13-Patrones/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Patrones de Diseño
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.14-Refuerzo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material de Refuerzo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud5.15-Ampliacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material de Ampliación
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD6
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD7
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UD8
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            UD8
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD8 - Vue.js
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud8.1-Paso-a-paso/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paso a paso con Vue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud8.2-Fundamentos-Vue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fundamentos Vue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud8.3-Comenzar-proyecto-Vue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comenzar un proyecto Vue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud8.4-Mi-Primer-Proyecto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mi primer proyecto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud8.5-Indecision_APP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Indecision App
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud8.6-Pokemon-Game/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pokemon Game
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud8.7-Vue-Router/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vue Router
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud8.8-Vuex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vuex
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud8.8.1-Pinnia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pinia
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud8.9-Journal_APP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Journal App
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud8.10-Vue-con-Firebase/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vue con Firebase
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud8.11-Refuerzo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material de Refuerzo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud8.12-Ampliacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material de Ampliación
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#transiciones-en-una-spa-single-page-application" class="md-nav__link">
    <span class="md-ellipsis">
      Transiciones en una SPA (Single Page Application)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejemplo-de-uso" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo de uso
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejemplo de uso">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instalacion-de-react-router-dom" class="md-nav__link">
    <span class="md-ellipsis">
      Instalación de react-router-dom
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crear-enrutador" class="md-nav__link">
    <span class="md-ellipsis">
      Crear enrutador
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#useroutererror" class="md-nav__link">
    <span class="md-ellipsis">
      useRouterError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rutas-anidadas" class="md-nav__link">
    <span class="md-ellipsis">
      Rutas anidadas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navbar" class="md-nav__link">
    <span class="md-ellipsis">
      Navbar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navlink" class="md-nav__link">
    <span class="md-ellipsis">
      NavLink
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loader-y-useloaderdata" class="md-nav__link">
    <span class="md-ellipsis">
      Loader y useLoaderData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rutas-con-parametros" class="md-nav__link">
    <span class="md-ellipsis">
      Rutas con parámetros
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usenavigation" class="md-nav__link">
    <span class="md-ellipsis">
      useNavigation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-data" class="md-nav__link">
    <span class="md-ellipsis">
      Error data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-are-good-alternatives-to-data-fetching-in-effects" class="md-nav__link">
    <span class="md-ellipsis">
      What are good alternatives to data fetching in Effects?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recursos" class="md-nav__link">
    <span class="md-ellipsis">
      Recursos
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="react-router-dom">React Router DOM</h1>
<p>El "Client-Side Routing" (enrutamiento del lado del cliente) es una técnica utilizada en aplicaciones web modernas, donde el enrutamiento y la carga de diferentes vistas o componentes de la página se realizan enteramente en el navegador del usuario, sin necesidad de realizar peticiones adicionales al servidor para cada cambio de página.</p>
<p><a href="https://reactrouter.com">React Router DOM</a> es una librería de React que permite implementar enrutamiento del lado del cliente (client-side routing), esto se logra mediante la manipulación del historial del navegador y el uso de componentes de React que responden a cambios en la URL.</p>
<p>Algunos puntos clave sobre el React Router y el enrutamiento del lado del cliente son:</p>
<ul>
<li>
<p><strong>Mejora de la Experiencia del Usuario</strong>: Al evitar recargas completas de la página, las transiciones entre diferentes vistas son más rápidas y fluidas, lo que mejora la experiencia del usuario.</p>
</li>
<li>
<p><strong>Mantenimiento del Estado de la Aplicación</strong>: Dado que la página no se recarga, el estado de la aplicación se mantiene. Esto es útil, por ejemplo, para mantener el estado de los formularios o la posición de desplazamiento en la página.</p>
</li>
<li>
<p><strong>Rutas Dinámicas</strong>: React Router permite definir rutas dinámicamente y cargar componentes en función de los parámetros de la URL, lo que facilita la creación de aplicaciones web complejas.</p>
</li>
<li>
<p><strong>Integración con React</strong>: Al ser una biblioteca diseñada específicamente para React, React Router se integra perfectamente con el ecosistema de React, incluyendo el uso de hooks y el contexto.</p>
</li>
<li>
<p><strong>Optimización de Carga</strong>: Con el enrutamiento del lado del cliente, solo se cargan los recursos necesarios para el componente o vista actual, lo que puede mejorar el rendimiento de la aplicación, especialmente en conexiones lentas o dispositivos con recursos limitados.</p>
</li>
</ul>
<p>Manejo de URLs Amigables: React Router ayuda a manejar URLs amigables, lo cual es bueno para la usabilidad y el SEO (optimización en motores de búsqueda).</p>
<h2 id="transiciones-en-una-spa-single-page-application">Transiciones en una SPA (Single Page Application)</h2>
<p>Veamos cómo afecta se manejan las transiciones de página y las solicitudes de datos en una aplicación SPA usando React y React Router.</p>
<ul>
<li>
<p><strong>Carga Inicial de la Aplicación</strong>: La primera vez que un usuario accede a tu aplicación, se realiza una llamada al servidor para cargar los archivos necesarios de React (HTML, JavaScript, CSS, etc.). Esta es la única carga completa de la página que ocurre en el modelo de enrutamiento del lado del cliente.</p>
</li>
<li>
<p><strong>Navegación entre Rutas</strong>: Una vez que la aplicación está cargada, la navegación entre diferentes rutas (páginas o vistas) manejadas por React Router no implica llamadas adicionales al servidor para cargar la página. Las transiciones se manejan internamente por React, actualizando solo los componentes necesarios en el DOM (Document Object Model).</p>
</li>
<li>
<p><strong>Llamadas API / Datos Dinámicos</strong>: Si tus componentes React necesitan obtener datos del servidor (como datos de usuario, listas de productos, etc.), realizarán llamadas API al backend cada vez que sea necesario. Estas llamadas suelen ser solicitudes HTTP (como GET, POST, etc.) y se hacen independientemente del enrutamiento del lado del cliente.</p>
</li>
<li>
<p><strong>Carga Perezosa (Lazy Loading)</strong>: Si implementas la carga perezosa de componentes (usando React.lazy y Suspense, por ejemplo), React Router cargará dinámicamente solo los componentes necesarios para la ruta actual. Esto podría implicar solicitudes adicionales para cargar los archivos JavaScript correspondientes a esos componentes, pero solo cuando se accede a la ruta por primera vez.</p>
</li>
</ul>
<p>Servicios Web o Recursos Externos: Cualquier llamada a servicios web, bases de datos, o recursos externos (como imágenes o archivos) desde tus componentes React implicará llamadas al servidor o a los servicios pertinentes.</p>
<h2 id="ejemplo-de-uso">Ejemplo de uso</h2>
<p>Para esta ejemplo vamos a usar una estructura de archivos y carpetas similar a la de un proyecto real.</p>
<p>Crearemos dentro del src, las siguientes carpetas: </p>
<ul>
<li><strong>components</strong>. Tal y como hemos hecho hasta ahora, tendremos una carpeta para almacenar nuestros componentes personalizados.</li>
<li><strong>layouts</strong>. La usaremos para almacenar los layouts de nuestro proyecto, puede ser uno o mas de uno.</li>
<li><strong>router</strong>. Guardaremos en esta carpeta los archivoas necesarios para el enrutamiento de la aplicación.</li>
<li><strong>pages</strong>. Finalmente, en pages tendremos las diferents páginas de nuestra aplicación.</li>
</ul>
<p>Por ejemplo:</p>
<p><center>
<img alt="" src="../assets/ud5/router_folders.png" />
</center></p>
<h3 id="instalacion-de-react-router-dom">Instalación de react-router-dom</h3>
<p>La versión que vamos a usar es <strong>React Router v.6.4+</strong>, dicha versión introdujo nuevos enrutadores complatibles las nuevas API de datos:</p>
<ul>
<li>
<p>createBrowserRouter</p>
</li>
<li>
<p>createMemoryRouter</p>
</li>
<li>
<p>createHashRouter</p>
</li>
</ul>
<p>Para instalar la última versión:</p>
<pre><code>npm install react-router-dom
</code></pre>
<p>Para instalar una versión específica:</p>
<pre><code>npm install react-router-dom@6.4
</code></pre>
<h3 id="crear-enrutador">Crear enrutador</h3>
<p>Para habilitar el enrutamiento del lado del cliente tenemos que crear un router de navegador y configurar nuestras rutas. </p>
<p>El router que vamos a usar es uno de los que se han incorporado en la nueva versión, <a href="https://reactrouter.com/en/main/routers/create-browser-router">createBrowserRouter</a>. Este es el enrutador recomendado para todos los proyectos web de React Router, utiliza <a href="https://developer.mozilla.org/en-US/docs/Web/API/History">DOM history API</a> para actualizar la URL y administrar la pila de historial.</p>
<p>También habilita la data API v6.4 como <a href="https://reactrouter.com/en/main/route/loader">loaders</a>, <a href="https://reactrouter.com/en/main/route/action">actions</a>, <a href="https://reactrouter.com/en/main/hooks/use-fetcher">fetchers</a> y más. </p>
<p>router/index.jsx</p>
<pre><code>import { createBrowserRouter } from &quot;react-router-dom&quot;;
import Home from &quot;../pages/Home&quot;;
import About from &quot;../pages/About&quot;;
import Blog from &quot;../pages/Blog&quot;;

export const router = createBrowserRouter([
    {
        path: &quot;/&quot;,
        element: &lt;Home /&gt;,
    },
    {
        path: &quot;/about&quot;,
        element: &lt;About /&gt;,
    },
    {
        path: &quot;/blog&quot;,
        element: &lt;Blog /&gt;,
    },
]);
</code></pre>
<p>Incorporamos el RouterProvider al archivo main.jsx:</p>
<pre><code>import React from &quot;react&quot;;
import ReactDOM from &quot;react-dom/client&quot;;
import &quot;./index.css&quot;;

import { router } from &quot;./router&quot;;
import { RouterProvider } from &quot;react-router-dom&quot;;

ReactDOM.createRoot(document.getElementById(&quot;root&quot;)).render(
    &lt;React.StrictMode&gt;
        &lt;RouterProvider router={router} /&gt;
    &lt;/React.StrictMode&gt;
);
</code></pre>
<p>Ya tendríamos nuestra aplicación enrutada. El problema es que si accedemos a una ruta que no existe nos da un error no controlado, es decir no tenemos la típica página de 404. Esto ocurre porque ya no estamos usando al enrutación tradicional, sino una nuestra del lado de cliente. Por tanto, tenemos que controlar los errores en las rutas:</p>
<h3 id="useroutererror">useRouterError</h3>
<p>Para poder controlar los errores en las rutas tenemos el hook <a href="https://reactrouter.com/en/main/hooks/use-route-error">useRouterError</a>, vamos a crearnos un componente nuevo que sea NotFound.</p>
<p>NotFound.jsx</p>
<pre><code>import { useRouteError } from &quot;react-router-dom&quot;;

const NotFound = () =&gt; {
    const error = useRouteError();
    console.log(error);

    return (
        &lt;div&gt;
            &lt;h1&gt;404&lt;/h1&gt;
            &lt;p&gt;Page not found&lt;/p&gt;
            &lt;p&gt;{error.statusText || error.message}&lt;/p&gt;
        &lt;/div&gt;
    );
};
export default NotFound;
</code></pre>
<p>router/index.jsx</p>
<pre><code>export const router = createBrowserRouter([
    {
        path: &quot;/&quot;,
        element: &lt;Home /&gt;,
        errorElement: &lt;NotFound /&gt;,
    },
    {
        path: &quot;/about&quot;,
        element: &lt;About /&gt;,
        errorElement: &lt;NotFound /&gt;,
    },
    {
        path: &quot;/blog&quot;,
        element: &lt;Blog /&gt;,
        errorElement: &lt;NotFound /&gt;,
    },
]);
</code></pre>
<h3 id="rutas-anidadas">Rutas anidadas</h3>
<p>layout/LayoutPublic.jsx</p>
<pre><code>import { Outlet } from &quot;react-router-dom&quot;;

const LayoutPublic = () =&gt; {
    return (
        &lt;div&gt;
            &lt;nav&gt;Navbar&lt;/nav&gt;
            &lt;Outlet /&gt;
            &lt;footer&gt;Footer&lt;/footer&gt;
        &lt;/div&gt;
    );
};
export default LayoutPublic;
</code></pre>
<p>router/index.jsx</p>
<pre><code>export const router = createBrowserRouter([
    {
        path: &quot;/&quot;,
        element: &lt;LayoutPublic /&gt;,
        errorElement: &lt;NotFound /&gt;,
        children: [
            {
                index: true,
                element: &lt;Home /&gt;,
            },
            {
                path: &quot;/about&quot;,
                element: &lt;About /&gt;,
            },
            {
                path: &quot;/blog&quot;,
                element: &lt;Blog /&gt;,
            },
        ],
    },
]);
</code></pre>
<h3 id="navbar">Navbar</h3>
<p>components/Navbar.jsx</p>
<pre><code>import { Link } from &quot;react-router-dom&quot;;
const Navbar = () =&gt; {
    return (
        &lt;nav className=&quot;navbar navbar-dark bg-dark&quot;&gt;
            &lt;div className=&quot;container&quot;&gt;
                &lt;Link to=&quot;/&quot; className=&quot;btn btn-outline-primary&quot;&gt;
                    Home
                &lt;/Link&gt;
                &lt;Link to=&quot;/about&quot; className=&quot;btn btn-outline-primary&quot;&gt;
                    About
                &lt;/Link&gt;
                &lt;Link to=&quot;/blog&quot; className=&quot;btn btn-outline-primary&quot;&gt;
                    Blog
                &lt;/Link&gt;
            &lt;/div&gt;
        &lt;/nav&gt;
    );
};

export default Navbar;
</code></pre>
<p>layout/LayoutPublic.jsx</p>
<pre><code>import { Outlet } from &quot;react-router-dom&quot;;
import Navbar from &quot;../components/Navbar&quot;;

const LayoutPublic = () =&gt; {
    return (
        &lt;div&gt;
            &lt;Navbar /&gt;
            &lt;div className=&quot;container&quot;&gt;
                &lt;Outlet /&gt;
            &lt;/div&gt;
            &lt;footer className=&quot;container&quot;&gt;Footer&lt;/footer&gt;
        &lt;/div&gt;
    );
};
export default LayoutPublic;
</code></pre>
<h3 id="navlink">NavLink</h3>
<p><a href="https://reactrouter.com/en/main/components/nav-link">NavLink</a> es un componente especializado para crear enlaces de navegación. Este componente se utiliza para crear enlaces de navegación que se activan cuando la ruta coincide con la URL actual.</p>
<p>De forma predeterminada se utiliza la clase CSS active para marcar el enlace como activo.</p>
<p>components/Navbar.jsx</p>
<pre><code>&lt;NavLink to=&quot;/&quot; className=&quot;btn btn-outline-primary&quot;&gt;
    Home
&lt;/NavLink&gt;
&lt;NavLink to=&quot;/about&quot; className=&quot;btn btn-outline-primary&quot;&gt;
    About
&lt;/NavLink&gt;
&lt;NavLink to=&quot;/blog&quot; className=&quot;btn btn-outline-primary&quot;&gt;
    Blog
&lt;/NavLink&gt;
</code></pre>
<p><em>isActive</em></p>
<pre><code>&lt;NavLink
    to=&quot;tasks&quot;
    className={({ isActive }) =&gt; (isActive ? activeClassName : undefined)}
&gt;
    Tasks
&lt;/NavLink&gt;
</code></pre>
<h3 id="loader-y-useloaderdata">Loader y useLoaderData</h3>
<p>El loader en React Router desempeña un papel importante en la carga y manejo de datos antes de que se renderice una ruta. </p>
<ul>
<li>
<p>Carga de Datos Previa al Renderizado: El loader se ejecuta antes de que el componente de la ruta se muestre, cargando los datos necesarios para ese componente. Esto asegura que todos los datos estén disponibles antes de que el usuario vea la página.</p>
</li>
<li>
<p>Separación de Responsabilidades: Mantiene el código de carga de datos separado del componente de la interfaz de usuario, lo que facilita la organización y el mantenimiento del código.</p>
</li>
<li>
<p>Manejo Eficiente del Estado de Carga: Permite manejar de manera eficiente el estado de carga de los datos, mostrando indicadores de carga mientras los datos están siendo obtenidos, y luego renderizando el componente con los datos ya cargados.</p>
</li>
<li>
<p>Mejora del Rendimiento y la Experiencia del Usuario: Al cargar los datos necesarios antes del renderizado del componente, se reduce el tiempo visible de carga y se evitan parpadeos en la interfaz, mejorando así la experiencia del usuario.</p>
</li>
</ul>
<p>Vamos a ver cómo usar las API loader y useLoaderData para cargar y mostrar datos en nuestras rutas.</p>
<p><em>Blog.jsx</em></p>
<pre><code>const Blog = () =&gt; {
    return &quot;Blog&quot;;
};
export default Blog;

export const loaderBlogs = async () =&gt; {
    const data = await fetch(&quot;https://jsonplaceholder.typicode.com/posts&quot;);
    const blogs = await data.json();
    return { blogs };
};
</code></pre>
<p>Este loaderBlogs es un ejemplo de un loader:</p>
<ul>
<li>
<p>Qué Hace: Carga la lista de blogs desde una API antes de que el componente Blog se muestre.</p>
</li>
<li>
<p>Cómo se Usa: Este loader se asocia con una ruta específica. Cuando la ruta /blog es accedida, React Router ejecuta loaderBlogs antes de renderizar el componente Blog.</p>
</li>
<li>
<p>Ventajas: Gracias a este loader, el componente Blog tiene inmediatamente disponible los datos de los blogs al momento de su renderizado, evitando así el tener que manejar el estado de carga dentro del propio componente.</p>
</li>
</ul>
<p><em>router/index.jsx</em></p>
<pre><code>import Blog, { loaderBlogs } from &quot;../pages/Blog&quot;;

{
    path: &quot;/blog&quot;,
    element: &lt;Blog /&gt;,
    loader: loaderBlogs
},
</code></pre>
<p>Utilizamos 'useLoaderData' para acceder a los datos cargados por 'loaderBlogs':</p>
<p><em>Blog.jsx</em></p>
<pre><code>// Este componente muestra una lista de blogs.

import { Link, useLoaderData } from &quot;react-router-dom&quot;;

const Blog = () =&gt; {
    const { blogs } = useLoaderData(); // Accede a los datos cargados
    return (
        &lt;ul&gt;
            {blogs.length &gt; 0 ? (
                blogs.map((blog) =&gt; (
                    &lt;li key={blog.id}&gt;
                        &lt;Link to={`/blog/${blog.id}`}&gt;{blog.title}&lt;/Link&gt;
                    &lt;/li&gt;
                ))
            ) : (
                &lt;li&gt;No blogs found&lt;/li&gt;
            )}
        &lt;/ul&gt;
    );
};
export default Blog;

// Función loader: Carga datos desde una API externa
export const loaderBlogs = async () =&gt; {
    const response = await fetch(&quot;https://jsonplaceholder.typicode.com/posts&quot;);
    const blogs = await response.json(); // Convierte la respuesta en JSON
    return { blogs };
};
</code></pre>
<h3 id="rutas-con-parametros">Rutas con parámetros</h3>
<p>Veamos cómo manejar rutas con parámetros, por ejemplo, para mostrar un post específico.</p>
<pre><code>{
    path: &quot;/blog/:id&quot;,
    element: &lt;Post /&gt;,
},
</code></pre>
<p><em>Post.jsx</em></p>
<pre><code>// Este componente muestra los detalles de un post específico.

const Post = () =&gt; {
    return &quot;Post&quot;;
};
export default Post;

// Carga los datos de un post específico basado en el ID de la ruta
export const loaderPost = async ({ params }) =&gt; {
    const data = await fetch(
        `https://jsonplaceholder.typicode.com/posts/${params.id}`
    );
    const post = await data.json();
    return { post };
};
</code></pre>
<pre><code>{
    path: &quot;/blog/:id&quot;,
    element: &lt;Post /&gt;,
    loader: loaderPost,
},
</code></pre>
<p><em>Post.jsx</em></p>
<pre><code>
import { useLoaderData } from &quot;react-router-dom&quot;;

const Post = () =&gt; {
    const { post } = useLoaderData(); // Accede a los datos del post específico
    return (
        &lt;div&gt;
            &lt;h1&gt;{post.title}&lt;/h1&gt;
            &lt;p&gt;{post.body}&lt;/p&gt;
        &lt;/div&gt;
    );
};
export default Post;

export const loaderPost = async ({ params }) =&gt; {
    const response = await fetch(`https://jsonplaceholder.typicode.com/posts/${params.id}`);
    const post = await response.json();
    return { post };
};
</code></pre>
<h3 id="usenavigation">useNavigation</h3>
<p>El hook useNavigation nos proporciona herramientas para manejar y responder a cambios en la navegación dentro de tu aplicación.</p>
<ul>
<li>
<p>Acceso al Estado de Navegación: Permite a los componentes acceder al estado actual de la navegación. Esto incluye si la navegación está "idle" (inactiva), "loading" (cargando), o "submitting" (enviando datos).</p>
</li>
<li>
<p>Control de Indicadores de Carga: Con useNavigation, puedes mostrar indicadores de carga o cualquier otra interfaz de usuario relevante durante las transiciones de navegación. Por ejemplo, puedes mostrar un mensaje de "Cargando..." o una animación de carga cuando el usuario navega de una página a otra, mejorando así la experiencia de usuario.</p>
</li>
<li>
<p>Respuesta a Cambios en la Navegación: Permite a los componentes reaccionar a los cambios en el estado de navegación. Esto es útil, por ejemplo, para deshabilitar botones o cambiar la interfaz de usuario mientras se está cargando una nueva página o se están enviando datos a un servidor.</p>
</li>
<li>
<p>Mejorar la Experiencia del Usuario: Al informar al usuario sobre el estado de navegación (por ejemplo, que una página está cargando), se mejora la transparencia y se reduce la confusión o la frustración del usuario.</p>
</li>
</ul>
<p><em>LayoutPublic.jsx</em></p>
<pre><code>// Este componente actúa como un layout para páginas públicas.
// Utiliza 'useNavigation' para mostrar indicadores de carga durante la navegación.

import { Outlet, useNavigation } from &quot;react-router-dom&quot;;
import Navbar from &quot;../components/Navbar&quot;;

const LayoutPublic = () =&gt; {
    const navigation = useNavigation(); // Accede al estado de navegación

    return (
        &lt;div&gt;
            &lt;Navbar /&gt;
            &lt;main className=&quot;container&quot;&gt;
                {navigation.state === &quot;loading&quot; &amp;&amp; (
                    &lt;div className=&quot;alert alert-info my-5&quot;&gt;Loading...&lt;/div&gt; // Indicador de carga
                )}
                &lt;Outlet /&gt; // Renderiza el componente de la ruta actual
            &lt;/main&gt;
            &lt;footer className=&quot;container&quot;&gt;Footer&lt;/footer&gt;
        &lt;/div&gt;
    );
};
export default LayoutPublic;

</code></pre>
<p>En este código, useNavigation se utiliza para mostrar un mensaje de "Loading..." cada vez que se está cargando una nueva ruta. Esto informa al usuario que la navegación está en proceso y mejora la experiencia de espera.</p>
<h3 id="error-data">Error data</h3>
<p>Vamos a manejar los errores en las solicitudes, para darle mas robuztez a la aplicación.</p>
<p><em>Post.jsx</em></p>
<pre><code>// Mejora el manejo de errores en la carga de datos del post

export const loaderPost = async ({ params }) =&gt; {
    const response = await fetch(`https://jsonplaceholder.typicode.com/posts/${params.id}`);

    if (!response.ok) {
        throw new Error(`Error: ${response.status} - ${response.statusText}`);
    }

    const post = await response.json();
    return { post };
};

</code></pre>
<p><em>Podríamos, si queremos, usar el diseño del layout en error.</em></p>
<pre><code>export const router = createBrowserRouter([
    {
        path: &quot;/&quot;,
        element: &lt;LayoutPublic /&gt;,
        errorElement: &lt;NotFound /&gt;,
        children: [
            {
                errorElement: &lt;NotFound /&gt;,
                children: [
                    {
                        index: true,
                        element: &lt;Home /&gt;,
                    },
                    {
                        path: &quot;/about&quot;,
                        element: &lt;About /&gt;,
                    },
                    {
                        path: &quot;/blog&quot;,
                        element: &lt;Blog /&gt;,
                        loader: loaderBlogs,
                    },
                    {
                        path: &quot;/blog/:id&quot;,
                        element: &lt;Post /&gt;,
                        loader: loaderPost,
                    },
                ],
            },
        ],
    },
]);

</code></pre>
<h2 id="what-are-good-alternatives-to-data-fetching-in-effects">What are good alternatives to data fetching in Effects?</h2>
<p>Escribir llamadas fetch dentro de los efectos (Effects) es un método común para obtener datos en aplicaciones completamente basadas en el cliente. Sin embargo, este enfoque manual tiene varias desventajas:</p>
<ul>
<li>
<p><strong>No Funcionan en el Servidor</strong>: Los efectos no se ejecutan en el servidor. Esto significa que el HTML renderizado inicialmente en el servidor solo incluirá un estado de carga sin datos. El cliente tendrá que descargar todo el JavaScript y renderizar la aplicación solo para descubrir que ahora necesita cargar los datos. Esto no es eficiente.</p>
</li>
<li>
<p><strong>Waterfalls de Red</strong>: Hacer fetch directamente en los efectos puede crear "waterfalls" (cascadas) de red. Renderizas el componente padre, este obtiene algunos datos, luego renderiza los componentes hijos, y ellos comienzan a obtener sus datos. Si la red es lenta, esto es mucho más lento que obtener todos los datos en paralelo.</p>
</li>
<li>
<p><strong>Falta de Precarga y Caché</strong>: Obtener datos directamente en los efectos generalmente significa que no se pre-cargan o almacenan en caché los datos. Por ejemplo, si el componente se desmonta y luego se monta de nuevo, tendría que obtener los datos nuevamente.</p>
</li>
<li>
<p><strong>No es Ergonómico</strong>: Hay bastante código repetitivo involucrado en escribir llamadas fetch de manera que no sufran de problemas como condiciones de carrera.</p>
</li>
</ul>
<p>Estas desventajas no son específicas de React, sino que se aplican a la obtención de datos al montar con cualquier biblioteca. La obtención de datos no es trivial de hacer bien, por lo que se recomiendan los siguientes enfoques:</p>
<ul>
<li>
<p>Usar Mecanismos Integrados de Frameworks: Si usas un framework, utiliza su mecanismo integrado de obtención de datos. Los <a href="https://react.dev/learn/start-a-new-react-project#production-grade-react-frameworks">frameworks modernos</a> de React tienen mecanismos de obtención de datos integrados que son eficientes y no sufren de estas desventajas.</p>
</li>
<li>
<p>Otra opción es usar o construir un caché del lado del cliente, para ello podmeos usar soluciones, como React Query, useSWR y React Router 6.4+. </p>
</li>
</ul>
<p>Fuente: <a href="https://react.dev/reference/react/useEffect#what-are-good-alternatives-to-data-fetching-in-effects">What are good alternatives to data fetching in Effects?</a></p>
<h2 id="recursos">Recursos</h2>
<ul>
<li><a href="https://jsonplaceholder.typicode.com/">{JSON} Placeholder (Free fake API for testing and prototyping)</a></li>
<li><a href="https://reactrouter.com/en/main/start/overview">React Router</a></li>
<li><a href="https://getbootstrap.com/">Bootstrap</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Contenido generado por el equipo educativo de 2º DAW del IES Rafael Alberti
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://twitter.com/IESAlbertiCadiz" target="_blank" rel="noopener" title="IES Alberti en Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.top", "header.autohide"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>